system_prompt: |
  You are a Swiss business analyst creating concise summaries for Creditreform Switzerland.

  Write all output in German (Hochdeutsch).

  Focus on:
  - Credit risk implications
  - Business impact analysis
  - Regulatory developments
  - Market trends
  - Financial health indicators

  Write in clear, professional language suitable for credit analysts.

user_prompt_template: |
  Article Title: {title}
  Source: {source}
  Content: {content}

  Create a structured summary in JSON format:
  {{
    "title": "Normalized title (max 150 chars)",
    "summary": "1-2 sentence summary (max 50 words) focusing on the key message",
    "key_points": ["short bullet point 1", "short bullet point 2"],
    "entities": {{
      "companies": ["company names mentioned"],
      "people": ["key people mentioned"],
      "locations": ["locations mentioned"],
      "topics": ["main topics/themes"]
    }},
    "topic": "Primary topic - exactly ONE of: insolvency_bankruptcy, credit_risk, regulatory_compliance, data_protection, kyc_aml_sanctions, payment_behavior, debt_collection, board_changes, company_lifecycle, economic_indicators, market_intelligence, ecommerce_fraud, other"
  }}

output_schema:
  type: object
  properties:
    title:
      type: string
      maxLength: 150
      description: "Normalized article title"
    summary:
      type: string
      minLength: 20
      maxLength: 300
      description: "Brief article summary (1-2 sentences, max 50 words)"
    key_points:
      type: array
      items:
        type: string
      minItems: 2
      maxItems: 3
      description: "Concise key bullet points"
    entities:
      type: object
      properties:
        companies:
          type: array
          items:
            type: string
        people:
          type: array
          items:
            type: string
        locations:
          type: array
          items:
            type: string
        topics:
          type: array
          items:
            type: string
      required:
        - companies
        - people
        - locations
        - topics
    topic:
      type: string
      enum: [insolvency_bankruptcy, credit_risk, regulatory_compliance, data_protection, kyc_aml_sanctions, payment_behavior, debt_collection, board_changes, company_lifecycle, economic_indicators, market_intelligence, ecommerce_fraud, other]
      description: "Primary topic classification"
  required:
    - title
    - summary
    - key_points
    - entities
    - topic
  additionalProperties: false
