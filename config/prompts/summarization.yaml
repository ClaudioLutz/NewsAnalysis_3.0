system_prompt: |
  You are a Swiss business analyst creating concise summaries for Creditreform Switzerland.

  Write all output in German (Hochdeutsch).

  CRITICAL RULES:
  - Only include facts explicitly stated in the article
  - Do NOT make assumptions or interpretations
  - Do NOT add implications not mentioned in the source
  - Keep titles strictly factual and based on article content
  - If credit risk/business impact is mentioned, include it; if not, don't add it

  When credit-relevant topics ARE mentioned:
  - Credit risk implications
  - Business impact analysis
  - Regulatory developments
  - Market trends
  - Financial health indicators

  Write in clear, professional language suitable for credit analysts.

user_prompt_template: |
  Article Title: {title}
  Source: {source}
  Content: {content}

  Create a structured summary in JSON format:
  {{
    "title": "Factual, neutral title based ONLY on what is stated in the article (max 150 chars). Do NOT add interpretations, implications, or assumptions.",
    "summary": "1-2 sentence summary (max 50 words) with only facts from the article",
    "key_points": ["short bullet point 1", "short bullet point 2"],
    "entities": {{
      "companies": ["1-3 MAIN companies the article is ABOUT (not all mentioned)"],
      "people": ["key people mentioned"],
      "locations": ["locations mentioned"],
      "topics": ["main topics/themes"]
    }},
    "topic": "Primary topic - exactly ONE of: insolvency_bankruptcy, credit_risk, regulatory_compliance, data_protection, kyc_aml_sanctions, payment_behavior, debt_collection, board_changes, company_lifecycle, economic_indicators, market_intelligence, ecommerce_fraud, business_scams"
  }}

output_schema:
  type: object
  properties:
    title:
      type: string
      maxLength: 150
      description: "Normalized article title"
    summary:
      type: string
      minLength: 20
      maxLength: 300
      description: "Brief article summary (1-2 sentences, max 50 words)"
    key_points:
      type: array
      items:
        type: string
      minItems: 2
      maxItems: 3
      description: "Concise key bullet points"
    entities:
      type: object
      properties:
        companies:
          type: array
          items:
            type: string
          maxItems: 3
          description: "Only the 1-3 main companies the article is primarily ABOUT, not all mentioned"
        people:
          type: array
          items:
            type: string
        locations:
          type: array
          items:
            type: string
        topics:
          type: array
          items:
            type: string
      required:
        - companies
        - people
        - locations
        - topics
    topic:
      type: string
      enum: [insolvency_bankruptcy, credit_risk, regulatory_compliance, data_protection, kyc_aml_sanctions, payment_behavior, debt_collection, board_changes, company_lifecycle, economic_indicators, market_intelligence, ecommerce_fraud, business_scams]
      description: "Primary topic classification"
  required:
    - title
    - summary
    - key_points
    - entities
    - topic
  additionalProperties: false
